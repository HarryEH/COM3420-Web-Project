- content_for :title, 'Map'

- content_for :scripts do
  = javascript_include_tag 'map'
  %script{:src => "//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=Â®ion="}
  %script{:src => "//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"}
  %script{:src => "//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js", :type => "text/javascript"}

/ map div

#map{:style => 'width: 800px; height: 510px;'}

#floating-panel
  %input#address{:type => "textbox", :value => "Clifton, South Yorkshire"}
  %input#submit{:type => "button", :value => "Search"}

-#  this is what I need Geocoder.search("Braithwell Church", :params => {:region => "..."})

:javascript
    $(document).ready( function() {
      var handler = Gmaps.build('Google');
      handler.buildMap({ internal: {id: 'map'} }, function(){
       handler.map.centerOn({lat: 53.455, lng: -1.209});
       handler.fitMapToBounds();
       handler.getMap().setZoom(13);
        handler.addMarker({
          lat: 53.452,
          lng: -1.212
        });
        handler.addMarker({
          lat: 53.45,
          lng: -1.22
        });
        handler.addMarker({
          lat: 53.46,
          lng: -1.23
        });
        handler.addMarker({
          lat: 53.449,
          lng: -1.213
        });
        handler.addMarker({
          lat: 53.45,
          lng: -1.22
        });
      });

     });


