- content_for :title, 'Map'

- content_for :scripts do
  = javascript_include_tag 'map'
  %script{:src => '//maps.google.com/maps/api/js', :type => 'text/javascript'}
  = yield :scripts
.row
  .col-md-12
    .page-header
      %h1
        Interactive Map
      %h3
        %small
          Click on a marker to see a memory

  // Map
  .col-md-12
    %div.panel.panel-default
      %div.panel-body

        #map{:style => 'width: 100%; height: 510px; padding: 10px;'}

        -marker_json = @lat_lng.to_json

:javascript
    //This js is required, every other map was dreadful.
    $(document).ready( function() {
      map = new GMaps({
          el: '#map',
          lat: 53.452,
          lng: -1.212,
          zoom: 13,
      });
      //This adds listeners to each marker
      var markers = map.addMarkers(#{marker_json});
    });
